{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useDispatch, useSelector } from 'react-redux';\nvar disPatch = useDispatch();\nexport var refreshToken = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.get('api/renew-token/');\n\n          case 3:\n            res = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n            SetLogout();\n            SetLogoutForLocalSorage();\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 6]]);\n  }));\n\n  return function refreshToken() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var SetLogout = function SetLogout() {\n  disPatch(setLogout());\n  disPatch(setUsername(''));\n  disPatch(setUserId(-1));\n  disPatch(setEmail(''));\n  disPatch(setFinishedArticles([]));\n  disPatch(setAccessToken(''));\n  disPatch(setProvider(''));\n  disPatch(setBookmarks([]));\n};\n_c = SetLogout;\nexport var SetLogoutForLocalSorage = function SetLogoutForLocalSorage() {\n  localStorage.removeItem('login');\n  localStorage.removeItem('username');\n  localStorage.removeItem('email');\n  localStorage.removeItem('finishedArticles');\n  localStorage.removeItem('bookmarks');\n  localStorage.removeItem('token');\n  localStorage.removeItem('provider');\n};\n_c2 = SetLogoutForLocalSorage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SetLogout\");\n$RefreshReg$(_c2, \"SetLogoutForLocalSorage\");","map":{"version":3,"sources":["/Users/seanhsieh/github/100daysOfCodeIdeas/ideas/src/components/account.js"],"names":["useDispatch","useSelector","disPatch","refreshToken","axios","get","res","console","log","SetLogout","SetLogoutForLocalSorage","setLogout","setUsername","setUserId","setEmail","setFinishedArticles","setAccessToken","setProvider","setBookmarks","localStorage","removeItem"],"mappings":";;AACA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,IAAMC,QAAQ,GAAGF,WAAW,EAA5B;AAEA,OAAO,IAAMG,YAAY;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEFC,KAAK,CAACC,GAAN,CAAU,kBAAV,CAFE;;AAAA;AAEdC,YAAAA,GAFc;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIpBC,YAAAA,OAAO,CAACC,GAAR;AACAC,YAAAA,SAAS;AACTC,YAAAA,uBAAuB;;AANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZP,YAAY;AAAA;AAAA;AAAA,GAAlB;AAUP,OAAO,IAAMM,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC3BP,EAAAA,QAAQ,CAACS,SAAS,EAAV,CAAR;AACAT,EAAAA,QAAQ,CAACU,WAAW,CAAC,EAAD,CAAZ,CAAR;AACAV,EAAAA,QAAQ,CAACW,SAAS,CAAC,CAAC,CAAF,CAAV,CAAR;AACAX,EAAAA,QAAQ,CAACY,QAAQ,CAAC,EAAD,CAAT,CAAR;AACAZ,EAAAA,QAAQ,CAACa,mBAAmB,CAAC,EAAD,CAApB,CAAR;AACAb,EAAAA,QAAQ,CAACc,cAAc,CAAC,EAAD,CAAf,CAAR;AACAd,EAAAA,QAAQ,CAACe,WAAW,CAAC,EAAD,CAAZ,CAAR;AACAf,EAAAA,QAAQ,CAACgB,YAAY,CAAC,EAAD,CAAb,CAAR;AACH,CATM;KAAMT,S;AAWb,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AACzCS,EAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,kBAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,WAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACH,CARM;MAAMV,uB","sourcesContent":["\nimport { useDispatch, useSelector } from 'react-redux';\nconst disPatch = useDispatch();\n    \nexport const refreshToken = async () => {\n    try {\n        const res = await axios.get('api/renew-token/');\n    } catch(error) {\n        console.log(error)\n        SetLogout();\n        SetLogoutForLocalSorage();\n    }\n};\n\nexport const SetLogout = () => {\n    disPatch(setLogout());\n    disPatch(setUsername(''));\n    disPatch(setUserId(-1));\n    disPatch(setEmail(''));\n    disPatch(setFinishedArticles([]));\n    disPatch(setAccessToken(''));\n    disPatch(setProvider(''));\n    disPatch(setBookmarks([]));\n}\n\nexport const SetLogoutForLocalSorage = () => {\n    localStorage.removeItem('login');\n    localStorage.removeItem('username');\n    localStorage.removeItem('email');\n    localStorage.removeItem('finishedArticles');\n    localStorage.removeItem('bookmarks');\n    localStorage.removeItem('token');\n    localStorage.removeItem('provider');\n}\n"]},"metadata":{},"sourceType":"module"}