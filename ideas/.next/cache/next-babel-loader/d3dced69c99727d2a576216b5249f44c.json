{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport GitHubLogin from 'react-github-login';\nimport '.././css/signinform.css';\nimport axios from 'axios';\n\nvar SignInForm = function SignInForm() {\n  var passAccessToken = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(provider, access_token) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post('/api/social-auth/', {\n                provider: provider,\n                access_token: access_token\n              });\n\n            case 2:\n              res = _context.sent;\n              return _context.abrupt(\"return\", res);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function passAccessToken(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var responseFacebook = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(response[\"accessToken\"]);\n              _context2.next = 3;\n              return passAccessToken('facebook', response[\"accessToken\"]);\n\n            case 3:\n              res = _context2.sent;\n              console.log(res);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function responseFacebook(_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var responseGoogle = function responseGoogle(response) {\n    console.log(response);\n  };\n\n  var ResponseGithubOnSuccess = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(response) {\n      var res, res2;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.post('api/get-github-access-token/', {\n                code: response['code']\n              });\n\n            case 2:\n              res = _context3.sent;\n              _context3.next = 5;\n              return passAccessToken('github', res['data']);\n\n            case 5:\n              res2 = _context3.sent;\n              console.log(res2);\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function ResponseGithubOnSuccess(_x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var ResponseGithubOnFailure = function ResponseGithubOnFailure(response) {\n    return console.error(response);\n  };\n\n  return __jsx(\"div\", {\n    className: \"signinform\"\n  }, __jsx(FacebookLogin, {\n    cssClass: \"fb-btn\",\n    appId: \"240314257268798\",\n    autoLoad: false,\n    fields: \"name,email,picture\",\n    callback: responseFacebook,\n    render: function render(renderProps) {\n      return __jsx(\"button\", {\n        onClick: renderProps.onClick,\n        className: \"fb-btn\"\n      }, \"Facebook\");\n    }\n  }), __jsx(GitHubLogin, {\n    className: \"github-btn\",\n    clientId: \"51b1a8ee5b7cad1e6a85\",\n    redirectUri: \"http://localhost:3000/signin\",\n    onSuccess: ResponseGithubOnSuccess,\n    onFailure: ResponseGithubOnFailure\n  }));\n};\n\nexport default SignInForm;","map":null,"metadata":{},"sourceType":"module"}