{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//Types\nimport { GET_ARTICLES, GET_FILTERED_ARTICLES, SET_PARTIAL_ARTICLES, CLEAR_FILTER, SET_CATEGORY, CLEAR_CATEGORY, RESET_LOADING, SET_PLANNER, SET_PAPE_COUNT, SET_PERPAGE, SET_OFFSET, SET_LOADING, SET_LOGIN, SET_LOGOUT, SET_ACCESS_TOKEN, SET_EMAIL, SET_USERNAME, SET_ERRORMESSAGE, REMOVE_BOOKMARK, SET_BOOKMARKS, SET_MARKASFINISHED, SET_UNMARKASFINISHED, SET_PROVIDER } from '../types'; //States\n\nimport { initialState } from '../states/states'; //Reducer\n\nconst articlesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_ARTICLES:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: false,\n        articles: action.payload,\n        offset: 0,\n        partialArticles: action.payload.slice(0, state.perpage)\n      });\n\n    case GET_FILTERED_ARTICLES:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: false,\n        filterText: action.payload,\n        filteredArticles: state.articles.filter(article => {\n          const regex = new RegExp(`${action.payload}`, 'gi');\n          return article.title.match(regex) || article.subtitle.match(regex);\n        }),\n        offset: 0,\n        partialArticles: state.articles.filter(article => {\n          const regex = new RegExp(`${action.payload}`, 'gi');\n          return article.title.match(regex) || article.subtitle.match(regex);\n        })\n      });\n\n    case SET_PARTIAL_ARTICLES:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: false,\n        partialArticles: action.payload\n      });\n\n    case CLEAR_FILTER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        category: -1,\n        filteredArticles: []\n      });\n\n    case SET_CATEGORY:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: false,\n        category: action.payload,\n        filteredArticles: state.articles.filter(article => {\n          return article.category == action.payload;\n        })\n      });\n\n    case CLEAR_CATEGORY:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        filteredArticles: []\n      });\n\n    case RESET_LOADING:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: false\n      });\n\n    case SET_PLANNER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        showPlanner: action.payload\n      });\n\n    case SET_LOADING:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: action.payload\n      });\n\n    case SET_OFFSET:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        offset: action.payload\n      });\n\n    case SET_PAPE_COUNT:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        pageCount: action.payload\n      });\n\n    case SET_PERPAGE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        perpage: action.payload\n      });\n\n    case SET_LOGIN:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLogin: true\n      });\n\n    case SET_LOGOUT:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLogin: false\n      });\n\n    case SET_ACCESS_TOKEN:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        accessToken: action.payload\n      });\n\n    case SET_EMAIL:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        email: action.payload\n      });\n\n    case SET_USERNAME:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        username: action.payload\n      });\n\n    case SET_ERRORMESSAGE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        errorMessage: action.payload\n      });\n\n    case REMOVE_BOOKMARK:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        bookmarks: state.bookmarks.filter(bookmark => {\n          return bookmark !== action.payload;\n        })\n      });\n\n    case SET_BOOKMARKS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        bookmarks: action.payload\n      });\n\n    case SET_MARKASFINISHED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        finishedArticles: action.payload\n      });\n\n    case SET_UNMARKASFINISHED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        finishedArticles: state.finishedArticles.filter(finishedArticle => {\n          return finishedArticle !== action.payload;\n        })\n      });\n\n    case SET_PROVIDER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        provider: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default articlesReducer;","map":{"version":3,"sources":["/Users/seanhsieh/github/100daysOfCodeIdeas/ideas/src/components/reducers/articlesReducer.ts"],"names":["GET_ARTICLES","GET_FILTERED_ARTICLES","SET_PARTIAL_ARTICLES","CLEAR_FILTER","SET_CATEGORY","CLEAR_CATEGORY","RESET_LOADING","SET_PLANNER","SET_PAPE_COUNT","SET_PERPAGE","SET_OFFSET","SET_LOADING","SET_LOGIN","SET_LOGOUT","SET_ACCESS_TOKEN","SET_EMAIL","SET_USERNAME","SET_ERRORMESSAGE","REMOVE_BOOKMARK","SET_BOOKMARKS","SET_MARKASFINISHED","SET_UNMARKASFINISHED","SET_PROVIDER","initialState","articlesReducer","state","action","type","isLoading","articles","payload","offset","partialArticles","slice","perpage","filterText","filteredArticles","filter","article","regex","RegExp","title","match","subtitle","category","showPlanner","pageCount","isLogin","accessToken","email","username","errorMessage","bookmarks","bookmark","finishedArticles","finishedArticle","provider"],"mappings":"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","sourcesContent":["import {\n    GetArticlesAction,\n    GetFilteredArticlesAction,\n    SetPartialArticlesAction,\n    ClearFilterAction,\n    SetCategoryAction,\n    ClearCategoryAction,\n    ResetLoadingAction,\n    SetOffsetAction,\n    SetPerpageAction,\n    SetPageCountAction,\n    SetPlannerAction,\n    SetLoadingAction,\n    SetLoginAction,\n    SetLogoutAction,\n    SetAccessTokenAction,\n    SetEmailAction,\n    SetUsernameAction,\n    SetErrorMessageAction,\n    SetBookmarksAction,\n    RemoveBookmarkAction,\n    SetFinishedArticlesAction,\n    RemoveFinishedArticleAction,\n    SetUserIdAction,\n    SetProviderAction\n} \nfrom '../actions/articlesAction'\nimport { RootState} from '../store/store'\n\n//Types\nimport { \n    GET_ARTICLES,\n    GET_FILTERED_ARTICLES,\n    SET_PARTIAL_ARTICLES,\n    CLEAR_FILTER,\n    SET_CATEGORY,\n    CLEAR_CATEGORY,\n    RESET_LOADING,\n    SET_PLANNER,\n    SET_PAPE_COUNT,\n    SET_PERPAGE,\n    SET_OFFSET,\n    SET_LOADING,\n    SET_LOGIN,\n    SET_LOGOUT,\n    SET_ACCESS_TOKEN,\n    SET_EMAIL,\n    SET_USERNAME,\n    SET_ERRORMESSAGE,\n    REMOVE_BOOKMARK,\n    SET_BOOKMARKS,\n    SET_MARKASFINISHED,\n    SET_UNMARKASFINISHED,\n    SET_PROVIDER,\n    ArticleType } from '../types'\n\n//States\nimport {\n    ArticlesState,\n    initialState,\n} from '../states/states'\n\n//Reducer\nconst articlesReducer = (state: ArticlesState = initialState,\n    action: GetArticlesAction | GetFilteredArticlesAction | ClearFilterAction |\n            SetCategoryAction | ClearCategoryAction | ResetLoadingAction | \n            SetPlannerAction | SetPartialArticlesAction | SetOffsetAction |\n            SetPerpageAction | SetPageCountAction | SetLoadingAction |\n            SetLoginAction | SetLogoutAction | SetAccessTokenAction |\n            SetEmailAction | SetUsernameAction | SetErrorMessageAction |\n            RemoveBookmarkAction | SetBookmarksAction | SetFinishedArticlesAction |\n            RemoveFinishedArticleAction | SetProviderAction) => {\n    switch(action.type) {\n        case GET_ARTICLES:\n            return {\n                ...state,\n                isLoading: false,\n                articles: action.payload,\n                offset: 0,\n                partialArticles: action.payload.slice(0, state.perpage)\n            }\n        case GET_FILTERED_ARTICLES:\n            return {\n                ...state,\n                isLoading: false,\n                filterText: action.payload,\n                filteredArticles: state.articles.filter(article => {\n                    const regex = new RegExp(`${action.payload}`, 'gi');\n                    return article.title.match(regex) || article.subtitle.match(regex);\n                }),\n                offset: 0,\n                partialArticles: state.articles.filter(article => {\n                    const regex = new RegExp(`${action.payload}`, 'gi');\n                    return article.title.match(regex) || article.subtitle.match(regex);\n                })\n            }\n        case SET_PARTIAL_ARTICLES:\n            return {\n                ...state,\n                isLoading: false,\n                partialArticles: action.payload\n            }\n        case CLEAR_FILTER:\n            return {\n                ...state,\n                category: -1,\n                filteredArticles: []\n            }\n        case SET_CATEGORY:\n            return {\n                ...state,\n                isLoading: false,\n                category: action.payload,\n                filteredArticles: state.articles.filter(article => {\n                    return article.category == action.payload\n                })\n            }\n        case CLEAR_CATEGORY:\n            return {\n                ...state,\n                filteredArticles: []\n            }\n        case RESET_LOADING:\n            return {\n                ...state,\n                isLoading: false\n            }\n        case SET_PLANNER:\n            return {\n                ...state,\n                showPlanner: action.payload\n            }\n        case SET_LOADING:\n            return {\n                ...state,\n                isLoading: action.payload\n            }\n        case SET_OFFSET:\n            return {\n                ...state,\n                offset: action.payload\n            }\n        case SET_PAPE_COUNT:\n            return {\n                ...state,\n                pageCount: action.payload\n            }\n        case SET_PERPAGE:\n            return {\n                ...state,\n                perpage: action.payload\n            }\n        case SET_LOGIN:\n            return {\n                ...state,\n                isLogin: true\n            }\n        case SET_LOGOUT:\n            return {\n                ...state,\n                isLogin: false\n            }\n        case SET_ACCESS_TOKEN:\n            return {\n                ...state,\n                accessToken:action.payload\n            }\n        case SET_EMAIL:\n            return {\n                ...state,\n                email:action.payload\n            }\n        case SET_USERNAME:\n            return {\n                ...state,\n                username:action.payload\n            }\n        case SET_ERRORMESSAGE:\n            return {\n                ...state,\n                errorMessage:action.payload\n            }\n        case REMOVE_BOOKMARK:\n            return {\n                ...state,\n                bookmarks: state.bookmarks.filter(bookmark => {\n                    return bookmark !== action.payload\n                })\n            }\n        case SET_BOOKMARKS:\n            return {\n                ...state,\n                bookmarks: action.payload\n            }\n        case SET_MARKASFINISHED:\n            return {\n                ...state,\n                finishedArticles: action.payload\n            }\n        case SET_UNMARKASFINISHED:\n            return {\n                ...state,\n                finishedArticles: state.finishedArticles.filter(finishedArticle => {\n                    return finishedArticle !== action.payload\n                })\n            }\n        case SET_PROVIDER:\n            return {\n                ...state,\n                provider: action.payload\n            }\n        default:\n            return state; \n    }\n};\n\nexport default articlesReducer;"]},"metadata":{},"sourceType":"module"}