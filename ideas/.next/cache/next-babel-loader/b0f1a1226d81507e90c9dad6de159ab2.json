{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, Fragment, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectShowPlannerState, selectArticlesState } from './states/states';\nimport { selectBookmarksState, selectFinishedArticlessState, selectLoginState } from './states/states';\nimport '.././css/article.css';\nimport '.././css/card.css';\nimport Article from './Article';\nimport { Spinner } from 'react-bootstrap';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport Footer from '../components/Footer';\nimport Router from 'next/router';\nimport PageWrapper from '../components/PageWrapper';\n\nconst BookmarksContent = () => {\n  const disPatch = useDispatch();\n  const showPlanner = useSelector(selectShowPlannerState);\n  const articles = useSelector(selectArticlesState); //const [bookmarks, setBookmarks] = useState([]);\n\n  const {\n    0: bookmarkedArticles,\n    1: setBookmarkedArticles\n  } = useState([]);\n  const bookmarks = useSelector(selectBookmarksState);\n  const finishedArticles = useSelector(selectFinishedArticlessState);\n  const isLogin = useSelector(selectLoginState);\n  useEffect(() => {\n    var tmp = articles.filter(article => -1 !== bookmarks.map(Number).indexOf(article.id));\n    console.log(tmp);\n    setBookmarkedArticles(tmp);\n  }, [bookmarks, articles]);\n  useEffect(() => {\n    console.log(bookmarkedArticles);\n  }, [bookmarkedArticles]);\n  useEffect(() => {\n    console.log(finishedArticles);\n  }, [finishedArticles]);\n  useEffect(() => {\n    if (isLogin === false) {\n      Router.push(`/signin`);\n    }\n  }, [isLogin]);\n  return __jsx(Fragment, null, __jsx(\"div\", {\n    className: `${showPlanner === true ? 'bookmarkspage-head' : 'bookmarkspage-head bookmarkspage-head-remove-left'}`\n  }, __jsx(\"div\", {\n    className: \"title\"\n  }, `Your Bookmarks (${finishedArticles.length}/${bookmarks.length})`), __jsx(\"div\", {\n    className: \"subtitle\"\n  }, \"Read articles you have bookmarked. Open articles to clean your todo list!\")), __jsx(\"div\", {\n    className: `${showPlanner !== true ? 'articles-hide-siderbar' : 'articles-hide-siderbar articles-hide-siderbar-remove-left'}`\n  }, __jsx(\"div\", {\n    className: \"articles-row row\"\n  }, articles.length === 0 ? __jsx(\"div\", {\n    className: \"articles-spinner\"\n  }, __jsx(Spinner, {\n    animation: \"border\",\n    role: \"status\"\n  }, __jsx(\"span\", {\n    className: \"sr-only\"\n  }, \"Loading...\"))) : bookmarkedArticles.map(article => __jsx(TransitionGroup, null, __jsx(CSSTransition, {\n    key: article.id,\n    timeout: 500,\n    classNames: \"item\"\n  }, __jsx(Article, {\n    key: article.id,\n    article: article\n  }))))), bookmarkedArticles.length > 0 && __jsx(Footer, null)));\n};\n\nexport default PageWrapper({\n  WrappedComponent: BookmarksContent\n});","map":null,"metadata":{},"sourceType":"module"}