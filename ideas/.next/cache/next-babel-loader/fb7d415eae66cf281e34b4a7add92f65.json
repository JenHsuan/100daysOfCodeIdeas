{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, Fragment, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ReactPaginate from 'react-paginate';\nimport { selectArticlesState, selectPartialArticlesState, selectFilteredArticlesState, selectIsLoadingState } from './reducers/articlesReducer';\nimport { getArticles, setPartialArticles } from './actions/articlesAction';\nimport { Spinner } from 'react-bootstrap';\nimport Article from './Article';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Footer from '../components/Footer';\n\nconst ArticleList = () => {\n  const {\n    0: perPage,\n    1: setPerPage\n  } = useState(10);\n  const {\n    0: pageCount,\n    1: setPageCount\n  } = useState(0);\n  const {\n    0: offset,\n    1: setOffset\n  } = useState(0);\n  const disPatch = useDispatch();\n  const articles = useSelector(selectArticlesState);\n  const filteredArticles = useSelector(selectFilteredArticlesState);\n  const partialArticles = useSelector(selectPartialArticlesState);\n  const isLoading = useSelector(selectIsLoadingState);\n  useEffect(() => {\n    disPatch(getArticles());\n  }, []);\n  useEffect(() => {\n    //console.log(articles)\n    const partialData = filteredArticles.length === 0 ? articles.slice(offset, offset + perPage).map(article => {\n      return __jsx(Article, {\n        article: article\n      });\n    }) : filteredArticles.slice(offset, offset + perPage).map(article => {\n      return __jsx(Article, {\n        article: article\n      });\n    });\n    console.log(partialData);\n    setPageCount(filteredArticles.length === 0 ? Math.ceil(articles.length / perPage) : Math.ceil(filteredArticles.length / perPage));\n    disPatch(setPartialArticles(partialData));\n  }, [articles]);\n  useEffect(() => {\n    console.log(filteredArticles);\n  }, [filteredArticles]);\n\n  const setPartialData = () => {};\n\n  const handlePageSlected = e => {\n    setOffset(e.selected * perPage);\n    setPartialData();\n  };\n\n  return __jsx(\"div\", {\n    className: \"articles-hide-siderbar\"\n  }, __jsx(\"div\", {\n    className: \"articles-row row\"\n  }, isLoading === true ? __jsx(\"div\", {\n    className: \"articles-spinner\"\n  }, __jsx(Spinner, {\n    animation: \"border\",\n    role: \"status\"\n  }, __jsx(\"span\", {\n    className: \"sr-only\"\n  }, \"Loading...\"))) : __jsx(Fragment, null, partialArticles)), isLoading === false && __jsx(ReactPaginate, {\n    previousLabel: \"prev\",\n    nextLabel: \"next\",\n    breakLabel: \"...\",\n    breakClassName: \"break-me\",\n    pageCount: pageCount,\n    marginPagesDisplayed: 2,\n    pageRangeDisplayed: 5,\n    onPageChange: handlePageSlected,\n    containerClassName: \"pagination\",\n    subContainerClassName: \"pages pagination\",\n    activeClassName: \"active\"\n  }), isLoading === false && __jsx(Footer, null));\n};\n\nArticleList.getInitialProps = async () => {\n  let news;\n\n  try {\n    const disPatch = useDispatch();\n  } catch (err) {\n    news = [];\n  }\n\n  return {\n    news\n  };\n};\n\nexport default ArticleList;","map":null,"metadata":{},"sourceType":"module"}