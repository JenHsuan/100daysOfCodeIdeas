{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, Fragment, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectShowPlannerState, selectArticlesState } from './states/states';\nimport { selectBookmarksState, selectFinishedArticlessState, selectLoginState } from './states/states';\nimport '.././css/article.css';\nimport '.././css/card.css';\nimport Article from './Article';\nimport { Spinner } from 'react-bootstrap';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport Footer from '../components/Footer';\nimport Router from 'next/router';\nimport PageWrapper from '../components/PageWrapper';\n\nvar BookmarksContent = function BookmarksContent() {\n  var disPatch = useDispatch();\n  var showPlanner = useSelector(selectShowPlannerState);\n  var articles = useSelector(selectArticlesState); //const [bookmarks, setBookmarks] = useState([]);\n\n  var _useState = useState([]),\n      bookmarkedArticles = _useState[0],\n      setBookmarkedArticles = _useState[1];\n\n  var bookmarks = useSelector(selectBookmarksState);\n  var finishedArticles = useSelector(selectFinishedArticlessState);\n  var isLogin = useSelector(selectLoginState);\n  useEffect(function () {\n    var tmp = articles.filter(function (article) {\n      return -1 !== bookmarks.map(Number).indexOf(article.id);\n    });\n    console.log(tmp);\n    setBookmarkedArticles(tmp);\n  }, [bookmarks, articles]);\n  useEffect(function () {\n    console.log(bookmarkedArticles);\n  }, [bookmarkedArticles]);\n  useEffect(function () {\n    console.log(finishedArticles);\n  }, [finishedArticles]);\n  useEffect(function () {\n    if (isLogin === false) {\n      Router.push(\"/signin\");\n    }\n  }, [isLogin]);\n  return __jsx(Fragment, null, __jsx(\"div\", {\n    className: \"\".concat(showPlanner === true ? 'bookmarkspage-head' : 'bookmarkspage-head bookmarkspage-head-remove-left')\n  }, __jsx(\"div\", {\n    className: \"title\"\n  }, \"Your Bookmarks (\".concat(finishedArticles.length, \"/\").concat(bookmarks.length, \")\")), __jsx(\"div\", {\n    className: \"subtitle\"\n  }, \"Read articles you have bookmarked. Open articles to clean your todo list!\")), __jsx(\"div\", {\n    className: \"\".concat(showPlanner !== true ? 'articles-hide-siderbar' : 'articles-hide-siderbar articles-hide-siderbar-remove-left')\n  }, __jsx(\"div\", {\n    className: \"articles-row row\"\n  }, articles.length === 0 ? __jsx(\"div\", {\n    className: \"articles-spinner\"\n  }, __jsx(Spinner, {\n    animation: \"border\",\n    role: \"status\"\n  }, __jsx(\"span\", {\n    className: \"sr-only\"\n  }, \"Loading...\"))) : bookmarkedArticles.map(function (article) {\n    return __jsx(TransitionGroup, null, __jsx(CSSTransition, {\n      key: article.id,\n      timeout: 500,\n      classNames: \"item\"\n    }, __jsx(Article, {\n      key: article.id,\n      article: article\n    })));\n  })), bookmarkedArticles.length > 0 && __jsx(Footer, null)));\n};\n\nexport default PageWrapper({\n  WrappedComponent: BookmarksContent\n});","map":null,"metadata":{},"sourceType":"module"}