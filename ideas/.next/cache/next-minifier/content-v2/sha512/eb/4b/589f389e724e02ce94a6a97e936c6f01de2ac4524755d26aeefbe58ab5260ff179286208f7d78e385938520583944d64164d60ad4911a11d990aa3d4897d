{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Nwme:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/signup\",function(){return a(\"smJ5\")}])},smJ5:function(e,t,a){\"use strict\";a.r(t);var n=a(\"q1tI\"),r=a.n(n),s=a(\"/MKj\"),o=a(\"8Kt/\"),c=a.n(o),i=a(\"9idV\"),l=a(\"Z4UW\"),u=a(\"o0o1\"),m=a.n(u),p=a(\"HaE+\"),b=a(\"rePB\"),d=a(\"Gwco\"),f=a.n(d),O=a(\"mlGW\"),g=a.n(O),v=(a(\"Txfo\"),a(\"vDqi\")),j=a.n(v),w=a(\"T/rR\"),h=a(\"QojX\"),y=a(\"nOHt\"),N=a.n(y),k=a(\"ldY6\"),x=a(\"NUse\"),P=a(\"kXxu\"),E=r.a.createElement;function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=Object(P.a)((function(e){var t=e.responseFacebook,a=e.ResponseGithubOnSuccess,r=e.ResponseGithubOnFailure,o=e.SetLogin,c=Object(s.b)(),i=Object(s.c)(k.i),l=Object(s.c)(k.n),u=Object(s.c)(k.d),d=Object(s.c)(k.h);Object(n.useEffect)((function(){i&&N.a.push(\"/\")}),[i]);var O=Object(n.useState)({username:\"\",email:\"\",password:\"\"}),v=O[0],y=O[1],P=v.username,S=v.email,G=v.password,D=function(e){return function(t){y(C(C({},v),{},Object(b.a)({},e,t.target.value.trim())))}},B=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c(Object(x.i)(!0)),e.next=5,j.a.post(\"/api/users/\",{username:P,password:G});case 5:if(void 0===(a=e.sent).data.error){e.next=11;break}n=a.data.error,c(Object(x.h)(\"\".concat(Object.keys(n)[0],\" : \").concat(Object.values(n)[0]))),e.next=25;break;case 11:return r=a.data.id,s=a.data.token,{Authorization:\"JWT \".concat(s)},e.next=16,j.a.post(\"/api/profile/\",{email:S,reader:r});case 16:if(i=e.sent,console.log(i),void 0!==(n=i.data.error)&&c(Object(x.h)(\"\".concat(Object.keys(n)[0],\" : \").concat(Object.values(n)[0]))),void 0===i||i.data.email!==S){e.next=25;break}return e.next=23,j.a.post(\"/api/token-auth/\",{username:P,password:G});case 23:e.sent,o(s,S,P);case 25:c(Object(x.i)(!1)),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(1),c(Object(x.i)(!1)),c(Object(x.h)(e.t0.message)),console.log(e.t0);case 33:case\"end\":return e.stop()}}),e,null,[[1,28]])})));return function(t){return e.apply(this,arguments)}}();return E(n.Fragment,null,E(\"div\",{className:\"\".concat(!0===l?\"signinform-move-left signinform\":\"signinform\")},!0===d?E(\"div\",{className:\"signinform-grid-box\"},E(\"div\",{className:\"signinform-spinner\"},E(w.a,{animation:\"border\",role:\"status\"},E(\"span\",{className:\"sr-only\"},\"Loading...\")))):E(\"div\",{className:\"signinform-grid-box\"},E(\"div\",{className:\"title\"},\"Create Your Free Account\"),E(f.a,{cssClass:\"fb-btn\",appId:\"240314257268798\",autoLoad:!1,fields:\"name,email,picture\",callback:t,render:function(e){return E(\"button\",{onClick:e.onClick,className:\"fb-btn\"},\"Facebook\")}}),E(g.a,{className:\"github-btn\",clientId:\"51b1a8ee5b7cad1e6a85\",redirectUri:\"http://localhost:3000/signin\",onSuccess:a,onFailure:r,buttonText:\"Github\"}),E(\"div\",{className:\"split-line\"},\"Or signup by email\"),E(\"div\",{className:\"signin-form\"},E(h.a,{onSubmit:B},E(h.a.Group,{controlId:\"formBasicEmail\"},E(h.a.Control,{type:\"text\",placeholder:\"Enter Username\",className:\"username\",onChange:D(\"username\")})),E(h.a.Group,{controlId:\"formBasicPassword\"},E(h.a.Control,{type:\"text\",placeholder:\"Enter Email\",className:\"email\",onChange:D(\"email\")})),E(h.a.Group,{controlId:\"formBasicPassword\"},E(h.a.Control,{type:\"password\",placeholder:\"Password\",className:\"password\",onChange:D(\"password\")})),E(\"button\",{className:\"btn-submit\"},\"Get Started\"))),E(\"div\",{className:\"messages\"},u))))})),D=(a(\"Stkp\"),a(\"q4sD\"),a(\"b2pr\")),B=a(\"xrSH\"),F=(a(\"v+B1\"),r.a.createElement);t.default=function(){return F(\"div\",null,F(c.a,null,F(\"title\",null,\"ALayman Learning Booster - Sign up\"),F(\"link\",{rel:\"icon\",href:\"https://raw.githubusercontent.com/JenHsuan/ALayman/master/views/images/alaymanicon.png\",type:\"image/x-icon\"})),F(s.a,{store:i.a},F(l.a,null),F(\"div\",{className:\"signin-ggrid-box\"},F(B.a,null),F(G,null),F(\"div\",{className:\"signin-footer\"},F(D.a,null)))))}}},[[\"Nwme\",0,2,4,1,3,7,5]]]);","extractedComments":[]}