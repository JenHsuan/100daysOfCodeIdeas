{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{\"9qlI\":function(e,n,t){\"use strict\";t.r(n);var a=t(\"q1tI\"),r=t.n(a),s=t(\"/MKj\"),o=t(\"8Kt/\"),i=t.n(o),c=t(\"9idV\"),l=t(\"Z4UW\"),u=t(\"o0o1\"),m=t.n(u),b=t(\"HaE+\"),p=t(\"rePB\"),d=t(\"Gwco\"),f=t.n(d),g=t(\"mlGW\"),O=t.n(g),v=(t(\"Txfo\"),t(\"vDqi\")),w=t.n(v),j=t(\"T/rR\"),h=t(\"QojX\"),y=t(\"ldY6\"),N=t(\"kXxu\"),k=t(\"NUse\"),P=r.a.createElement;function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){Object(p.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=Object(N.a)((function(e){var n=e.responseFacebook,t=e.ResponseGithubOnSuccess,r=e.ResponseGithubOnFailure,o=e.SetLogin,i=Object(s.b)(),c=Object(s.c)(y.n),l=Object(s.c)(y.d),u=Object(s.c)(y.h),d=Object(a.useState)({username:\"\",password:\"\"}),g=d[0],v=d[1],N=g.username,x=g.password,E=function(e){return function(n){v(S(S({},g),{},Object(p.a)({},e,n.target.value.trim())))}},q=function(){var e=Object(b.a)(m.a.mark((function e(n){var t,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(N),console.log(x),e.prev=3,i(Object(k.i)(!0)),e.next=7,w.a.post(\"/api/token-auth/\",{username:N,password:x});case 7:t=e.sent,console.log(t.data.user.profile),a=t.data.token,r=t.data.user.profile.email,o(a,r,N),i(Object(k.i)(!1)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i(Object(k.i)(!1)),i(Object(k.h)(e.t0.message));case 19:case\"end\":return e.stop()}}),e,null,[[3,15]])})));return function(n){return e.apply(this,arguments)}}();return P(a.Fragment,null,P(\"div\",{className:\"\".concat(!0===c?\"signinform-move-left signinform\":\"signinform\")},!0===u?P(\"div\",{className:\"signinform-grid-box\"},P(\"div\",{className:\"signinform-spinner\"},P(j.a,{animation:\"border\",role:\"status\"},P(\"span\",{className:\"sr-only\"},\"Loading...\")))):P(\"div\",{className:\"signinform-grid-box\"},P(\"div\",{className:\"title\"},\"Welcome back!\"),P(f.a,{cssClass:\"fb-btn\",appId:\"240314257268798\",autoLoad:!1,fields:\"name,email,picture\",callback:n,render:function(e){return P(\"button\",{onClick:e.onClick,className:\"fb-btn\"},\"Facebook\")}}),P(O.a,{className:\"github-btn\",clientId:\"51b1a8ee5b7cad1e6a85\",redirectUri:\"http://localhost:3000/signin\",onSuccess:t,onFailure:r,buttonText:\"Github\"}),P(\"div\",{className:\"split-line\"},\"Or signin by username\"),P(\"div\",{className:\"signin-form\"},P(h.a,{onSubmit:q},P(h.a.Group,{controlId:\"formBasicEmail\"},P(h.a.Control,{type:\"text\",placeholder:\"Enter Username\",className:\"username\",onChange:E(\"username\")})),P(h.a.Group,{controlId:\"formBasicPassword\"},P(h.a.Control,{type:\"password\",placeholder:\"Password\",className:\"password\",onChange:E(\"password\")})),P(\"button\",{className:\"btn-submit\"},\"Sign in\"))),P(\"div\",{className:\"messages\"},l))))})),q=(t(\"v+B1\"),t(\"q4sD\"),t(\"b2pr\")),C=(t(\"Stkp\"),r.a.createElement),D=function(){var e=Object(s.c)(y.n);return C(\"div\",{className:\"\".concat(!0===e?\"signin-footer\":\"signin-footer signin-footer-move-left\")},C(q.a,null))},G=t(\"xrSH\"),I=r.a.createElement;n.default=function(){return I(\"div\",null,I(i.a,null,I(\"title\",null,\"ALayman Learning Booster - Sign in\"),I(\"link\",{rel:\"icon\",href:\"https://raw.githubusercontent.com/JenHsuan/ALayman/master/views/images/alaymanicon.png\",type:\"image/x-icon\"})),I(s.a,{store:c.a},I(l.a,null),I(\"div\",{className:\"signin-grid-box\"},I(G.a,null),I(E,null),I(D,null))))}},qt10:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/signin\",function(){return t(\"9qlI\")}])}},[[\"qt10\",0,2,4,1,3,7,5]]]);","extractedComments":[]}