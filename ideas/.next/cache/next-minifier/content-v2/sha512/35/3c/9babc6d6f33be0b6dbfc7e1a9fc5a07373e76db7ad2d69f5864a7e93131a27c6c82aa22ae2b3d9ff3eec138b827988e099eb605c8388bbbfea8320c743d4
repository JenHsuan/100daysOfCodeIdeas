{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Nwme:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/signup\",function(){return n(\"smJ5\")}])},smJ5:function(e,t,n){\"use strict\";n.r(t);var a=n(\"q1tI\"),r=n.n(a),o=n(\"/MKj\"),c=n(\"8Kt/\"),s=n.n(c),l=n(\"9idV\"),i=n(\"Z4UW\"),u=n(\"o0o1\"),p=n.n(u),b=n(\"HaE+\"),d=n(\"rePB\"),f=n(\"Gwco\"),m=n.n(f),v=n(\"mlGW\"),g=n.n(v),h=(n(\"Txfo\"),n(\"vDqi\")),O=n.n(h),w=n(\"QojX\"),j=n(\"nOHt\"),k=n.n(j),y=n(\"u/pQ\"),x=n(\"NUse\"),N=r.a.createElement;function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(){var e=Object(o.b)(),t=Object(o.c)(y.e);Object(a.useEffect)((function(){t&&(console.log(\"hi \".concat(s)),k.a.push(\"/\"))}),[t]);var n=Object(a.useState)({username:\"\",password:\"\"}),r=n[0],c=n[1],s=r.username,l=r.password,i=function(e){return function(t){c(E(E({},r),{},Object(d.a)({},e,t.target.value)))}},u=function(){var e=Object(b.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(\"/api/social-auth/\",{provider:t,access_token:n});case 2:return a=e.sent,e.abrupt(\"return\",a);case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var t=Object(b.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(n.accessToken),console.log(n),e(Object(x.h)(n.email)),t.next=6,u(\"facebook\",n.accessToken);case 6:a=t.sent,console.log(a),null!==(r=a.data.token)&&void 0!==r&&r.length>0&&(e(Object(x.i)()),e(Object(x.f)(r))),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(Object(x.j)());case 16:case\"end\":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(b.a)(p.a.mark((function t(n){var a,r,o,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.post(\"api/get-github-access-token/\",{code:n.code});case 3:return a=t.sent,console.log(a.data),t.next=7,u(\"github\",a.data);case 7:r=t.sent,console.log(r),o=r.data.token,c=r.data.email,null!==o&&void 0!==o&&o.length>0&&(e(Object(x.i)()),e(Object(x.f)(o))),null!==c&&void 0!==c&&c.length>0&&e(Object(x.h)(r.data.email)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),e(Object(x.j)());case 18:case\"end\":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(b.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log(s),console.log(l),t.prev=3,t.next=6,O.a.post(\"/api/token-auth/\",{username:s,password:l});case 6:a=t.sent,console.log(a),null!==(r=a.data.token)&&void 0!==r&&r.length>0&&(e(Object(x.i)()),e(Object(x.f)(r))),null!==a.data.profile&&void 0!==a.data.profile&&e(Object(x.h)(a.data.profile.email)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:case\"end\":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}();return N(a.Fragment,null,N(\"div\",{className:\"signinform\"},N(\"div\",{className:\"grid-box\"},N(\"div\",{className:\"title\"},\"Create Your Free Account\"),N(m.a,{cssClass:\"fb-btn\",appId:\"240314257268798\",autoLoad:!1,fields:\"name,email,picture\",callback:f,render:function(e){return N(\"button\",{onClick:e.onClick,className:\"fb-btn\"},\"Facebook\")}}),N(g.a,{className:\"github-btn\",clientId:\"51b1a8ee5b7cad1e6a85\",redirectUri:\"http://localhost:3000/signin\",onSuccess:v,onFailure:function(e){return console.error(e)},buttonText:\"Github\"}),N(\"div\",{className:\"split-line\"},\"Or signup by email\"),N(\"div\",{className:\"signin-form\"},N(w.a,{onSubmit:h},N(w.a.Group,{controlId:\"formBasicEmail\"},N(w.a.Control,{type:\"text\",placeholder:\"Enter Username\",className:\"username\",onChange:i(\"username\")})),N(w.a.Group,{controlId:\"formBasicPassword\"},N(w.a.Control,{type:\"text\",placeholder:\"Enter Email\",className:\"email\",onChange:i(\"password\")})),N(w.a.Group,{controlId:\"formBasicPassword\"},N(w.a.Control,{type:\"password\",placeholder:\"Password\",className:\"password\",onChange:i(\"password\")})),N(\"button\",{className:\"btn-submit\"},\"Get Started\"))))))},S=(n(\"Stkp\"),n(\"q4sD\"),n(\"b2pr\")),D=r.a.createElement;t.default=function(){return D(\"div\",null,D(s.a,null,D(\"title\",null,\"ALayman Learning Booster - Sign up\")),D(o.a,{store:l.a},D(i.a,null),D(\"div\",{className:\"grid-box\"},D(C,null),D(\"div\",{className:\"signin-footer\"},D(S.a,null)))))}}},[[\"Nwme\",0,1,4,2,3,6,5]]]);","extractedComments":[]}