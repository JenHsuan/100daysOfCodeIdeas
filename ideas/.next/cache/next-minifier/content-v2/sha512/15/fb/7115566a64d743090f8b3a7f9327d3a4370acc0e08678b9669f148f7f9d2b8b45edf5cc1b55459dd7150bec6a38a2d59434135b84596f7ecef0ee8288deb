{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{\"KP/n\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/bookmarks\",function(){return a(\"NkVU\")}])},NkVU:function(e,t,a){\"use strict\";a.r(t);var r=a(\"o0o1\"),n=a.n(r),o=a(\"HaE+\"),c=a(\"q1tI\"),l=a.n(c),s=a(\"/MKj\"),i=a(\"9idV\"),u=a(\"DjIZ\"),m=a(\"xrSH\"),f=(a(\"ehEP\"),a(\"v+B1\"),a(\"q4sD\"),a(\"vDqi\")),p=a.n(f),g=a(\"ldY6\"),b=a(\"NUse\"),d=(a(\"gi6B\"),a(\"6eer\"),a(\"kPp+\")),v=a(\"T/rR\"),k=a(\"VeD8\"),h=a(\"pQ8y\"),j=a(\"b2pr\"),O=a(\"nOHt\"),w=a.n(O),N=l.a.createElement,y=function(){var e=Object(s.b)(),t=Object(s.c)(g.r),a=Object(s.c)(g.b),r=Object(c.useState)([]),l=r[0],i=r[1],u=Object(s.c)(g.c),m=Object(s.c)(g.i);Object(c.useEffect)((function(){(function(){var e=Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get(\"api/renew-token/\");case 3:e.sent,e.next=12;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),O(),f(),w.a.push(\"/signin\");case 12:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}})()(),0===a.length&&(console.log(\"fetch articles\"),e(Object(b.c)()));var t=localStorage.getItem(\"bookmarks\");if(null!==t){var r=t.split(\",\");e(Object(b.f)(r))}var c=localStorage.getItem(\"finishedArticles\");if(null!==c){var l=c.split(\",\");e(Object(b.j)(l))}}),[]),Object(c.useEffect)((function(){console.log(u);var e=a.filter((function(e){return-1!==u.indexOf(String(e.id))}));console.log(e),i(e)}),[u,a]),Object(c.useEffect)((function(){console.log(l)}),[l]),Object(c.useEffect)((function(){console.log(m)}),[m]);var f=function(){localStorage.removeItem(\"login\"),localStorage.removeItem(\"username\"),localStorage.removeItem(\"email\"),localStorage.removeItem(\"finishedArticles\"),localStorage.removeItem(\"bookmarks\"),localStorage.removeItem(\"token\"),localStorage.removeItem(\"provider\")},O=function(){e(Object(b.m)()),e(Object(b.t)(\"\")),e(Object(b.h)(\"\")),e(Object(b.j)([])),e(Object(b.e)(\"\")),e(Object(b.r)(\"\")),e(Object(b.f)([])),e(Object(b.s)(-1))};return N(c.Fragment,null,N(\"div\",{className:\"\".concat(!0===t?\"bookmarkspage-head\":\"bookmarkspage-head bookmarkspage-head-remove-left\")},N(\"div\",{className:\"title\"},\"Your Bookmarks (\".concat(m.length,\"/\").concat(u.length,\")\")),N(\"div\",{className:\"subtitle\"},\"Read articles you have bookmarked. Open articles to clean your todo list!\")),N(\"div\",{className:\"\".concat(!0!==t?\"articles-hide-siderbar\":\"articles-hide-siderbar articles-hide-siderbar-remove-left\")},N(\"div\",{className:\"articles-row row\"},0===a.length?N(\"div\",{className:\"articles-spinner\"},N(v.a,{animation:\"border\",role:\"status\"},N(\"span\",{className:\"sr-only\"},\"Loading...\"))):l.map((function(e){return N(k.a,null,N(h.a,{key:e.id,timeout:500,classNames:\"item\"},N(d.a,{key:e.id,article:e})))}))),l.length>0&&N(j.a,null)))},S=a(\"QvYV\"),I=a(\"i30r\"),E=a(\"WAGf\"),x=l.a.createElement,D=function(e){var t=e.jsonLdData;return x(S.a,null,x(I.a,{title:\"ALayman Daily Learning - Learning Plans\",keywords:\"achievements,pie chart\",url:\"https://daily-learning.herokuapp.com/\",description:\"Daily learning provides articles, challenges, or videos to people who are also self-learner for programming.\",jsonLd:t}),x(s.a,{store:i.a},x(u.a,null),x(\"div\",{className:\"bookmarkspage-grid-box\"},x(m.a,null),x(y,null))))};D.getInitialProps=function(){var e=Object(o.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.prev=1,e.next=4,p.a.get(\"/api/articles\");case 4:r=e.sent,a=Object(E.a)(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return console.log(JSON.stringify(a)),e.abrupt(\"return\",{jsonLdData:JSON.stringify(a)});case 13:case\"end\":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();t.default=D}},[[\"KP/n\",0,2,4,1,3,6,5]]]);","extractedComments":[]}